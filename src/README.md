# 使い方
## コンパイル
```
$ javac -encoding utf-8 *.java
```
## 実行
```
$ java AntsApplication
```
蟻の数を100程度にしてシミュレーションを開始し,巡回経路が確定するのを待つ.環境によっては画面を最小化しておくと実行速度が上がり経路の確定を早めることができる.経路が確定したら一時停止し,蟻の数を警備員の人数に設定し,計測開始ボタンを押してからシミュレーションを再開する.12000ステップが経過すると乱れ率が表示されてプログラムが終了する.
# サンプルプログラムに加えた変更点
## 蟻が巣に戻ることなく全ての食べ物を回り続けるようにした.
警備員は全ての自転車置き場を一周するごとに守衛室に戻るわけではないので,蟻は巣に戻ることなく全ての食べ物を回り続けるようにした.
### 巣のフェロモンを削除し,食べ物のフェロモンのみで蟻が動くようにした.
警備員は守衛室には戻らないので,巣のフェロモンの必要性はなくなった.
### ある蟻が全ての食べ物を回ったら,その蟻の最後に到達した食べ物の記憶のみを残して,それ以外の食べ物の記憶は削除した.
蟻が食べ物の記憶を持ち続けていると,全ての食べ物を回ったときに全ての食べ物のフェロモンを無視するようになってしまうので,一周したら食べ物の記憶を削除するようにした.ただし,最後に到達した食べ物セルについては,記憶を削除してしまうと再度その食べ物セルを巡回してしまうので,最後に到達した食べ物セルについては記憶を削除しないようにした.
### 帰還モードを削除した.
警備員は守衛室には戻らないので,帰還モードの必要性はなくなった.
### 蟻が巣に到達しても死なないようにした.
元のプログラムでは蟻が巣に到達するとその蟻はリセットされてランダムな巣に再び出現したが,警備員はたまたま守衛室に到達したとしても巡回を続けなければならず,この場合特に行うべき処理はない.
### Food NeedをAllのみにした.
元のプログラムではFood Needという項目で蟻が食べ物をひとつ発見するたびに巣に戻るOneと,シミュレーション領域内の全ての食べ物を得るまでは帰還しないAllが存在したが,警備員は常に自転車置き場を巡回するので,Allに固定した.
## 蟻の数を数値入力で調整できるようにした.
元のプログラムのスライダーによる調整は正確な調整ができないので,数値入力とした.
## 島根大学松江キャンパスのマップを再現した.
守衛室を巣に,自転車置き場を食べ物セルに,建物などの通り道ではないところを障害物に対応させた.
- マップのサイズを100に固定
- ビットマップの作成
- ビットマップの読み込み
- Place Tileとそれに関連したマウスによる環境構築機能の削除
島根大学のマップを読みこむようにしたのでこの機能の必要性はなくなった.
## 食べ物は確率的に発生するようにした.
元のプログラムでは蟻が食べ物セルに到達すると必ず食べ物を得られるようになっていたが,警備員が自転車置き場に到達するたびに毎回自転車を整理することになる.自転車置き場は常に乱れているわけではないので,毎ステップごとに一定の確率で食べ物セルに食べ物が発生するようにして,食べ物の発生と自転車置き場の乱れを対応させた.
### 全ての自転車置き場の台数の合計:その自転車置き場の台数=1:その自転車置き場が1ステップで荒れる確率
## 警備員が取り締まりに要した時間の実装
警備員が乱れた自転車置き場に到達すると警備員は自転車の整理を始める.整理には自転車置き場の自転車の台数に比例した時間がかかり,その間警備員は自転車置き場から動かないようにする.
## 乱れ率測定機能の追加
- 計測開始ボタンの追加
- 警備員の巡回経路が定まったら計測開始ボタンを押すことができる.
- 計測中はすでに経路が定まっており経路が変化してはいけないので各セルのフェロモンの強さが固定されるようにした.
- 計測開始ボタンが押された直後に全ての自転車置き場が荒れる.
- 計測中に各自転車置き場で綺麗な時間と荒れている時間がそれぞれ何ステップあったかを計測した.
- 計測期間は12000ステップ

